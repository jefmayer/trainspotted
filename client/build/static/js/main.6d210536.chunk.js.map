{"version":3,"sources":["img/trainspotted-logo.svg","js/actions/index.js","js/reducers/index.js","js/components/chart/Entry.jsx","js/components/chart/EntriesForDate.jsx","js/utils/Months.js","js/components/chart/Chart.jsx","js/components/detail/Detail.jsx","js/components/menu/Menu.jsx","js/containers/App.js","index.js"],"names":["module","exports","__webpack_require__","p","showDetail","id","type","data","hideDetail","showMenu","hideMenu","rootReducer","combineReducers","entryData","state","arguments","length","undefined","isFetching","items","action","Object","objectSpread","entryDetail","isOpen","menu","isLoggedIn","Entry","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","divRef","React","createRef","entry","arr","time","split","indexOf","parseInt","pct","toFixed","current","setAttribute","concat","_this$props","dispatch","onEntryClick","_id","react_default","a","createElement","className","ref","onClick","onKeyDown","engines","map","engine","bgStyle","backgroundColor","color","style","key","number","Component","connect","bindActionCreators","EntriesForDate","entryHeight","_this2","date","entries","chart_Entry","Months","Chart","_ref","dates","toConsumableArray","Set","months","chart_EntriesForDate","Detail","loadedClass","timer","setTimeout","setState","clearInterval","onDetailClose","role","formatDate","ampm","formatTime","direction","cellPadding","cellSpacing","order","line","location","Menu","menuDisplayClass","clearTimeout","navItems","onMenuClick","nav","App","fetch","then","response","json","receiveEntries","detailId","isDetailOpen","isMenuOpen","src","logo","alt","menu_Menu","chart_Chart","detail_Detail","console","log","find","middleware","thunk","store","createStore","reducer","applyMiddleware","apply","getState","ReactDOM","render","es","containers_App","document","getElementById"],"mappings":"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","file":"static/js/main.6d210536.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/trainspotted-logo.f965f559.svg\";","/* eslint-disable no-console */\nexport const REQUEST_ENTRIES = 'REQUEST_ENTRIES';\nexport const RECEIVE_ENTRIES = 'RECEIVE_ENTRIES';\nexport const SHOW_DETAIL = 'SHOW_DETAIL';\nexport const HIDE_DETAIL = 'HIDE_DETAIL';\nexport const SHOW_MENU = 'SHOW_MENU';\nexport const HIDE_MENU = 'HIDE_MENU';\n\nexport const requestEntries = () => ({\n  type: REQUEST_ENTRIES,\n});\n\nexport const receiveEntries = json => ({\n  type: RECEIVE_ENTRIES,\n  data: json,\n});\n\nexport const fetchEntries = () => dispatch => { /* eslint-disable-line arrow-parens */\n  dispatch(requestEntries());\n  return fetch('/getEntries')\n    .then(response => response.json())\n    .then(json => dispatch(receiveEntries(json)));\n};\n\nexport const showDetail = id => ({\n  type: SHOW_DETAIL,\n  data: id,\n});\n\nexport const hideDetail = () => ({\n  type: HIDE_DETAIL,\n});\n\nexport const showMenu = () => ({\n  type: SHOW_MENU,\n});\n\nexport const hideMenu = () => ({\n  type: HIDE_MENU,\n});\n/* eslint-enable no-console */\n","/* eslint-disable no-console */\nimport { combineReducers } from 'redux';\nimport {\n  REQUEST_ENTRIES,\n  RECEIVE_ENTRIES,\n  SHOW_DETAIL,\n  HIDE_DETAIL,\n  SHOW_MENU,\n  HIDE_MENU,\n} from '../actions';\n\n\nconst entryData = (state = {\n  isFetching: false,\n  items: [],\n}, action) => {\n  switch (action.type) {\n    case REQUEST_ENTRIES:\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case RECEIVE_ENTRIES:\n      return {\n        ...state,\n        isFetching: false,\n        items: action.data,\n      };\n    default:\n      return state;\n  }\n};\n\nconst entryDetail = (state = {\n  isOpen: false,\n  id: '',\n}, action) => {\n  switch (action.type) {\n    case SHOW_DETAIL:\n      return {\n        ...state,\n        isOpen: true,\n        id: action.data,\n      };\n    case HIDE_DETAIL:\n      return {\n        ...state,\n        isOpen: false,\n        id: action.data,\n      };\n    default:\n      return state;\n  }\n};\n\nconst menu = (state = {\n  isOpen: false,\n  isLoggedIn: false,\n  items: [\n    'About the Project',\n    'Contact',\n    'Login',\n  ],\n}, action) => {\n  switch (action.type) {\n    case SHOW_MENU:\n      return {\n        ...state,\n        isOpen: true,\n      };\n    case HIDE_MENU:\n      return {\n        ...state,\n        isOpen: false,\n      };\n    default:\n      return state;\n  }\n};\n\nconst rootReducer = combineReducers({\n  entryData,\n  entryDetail,\n  menu,\n});\n\nexport default rootReducer;\n/* eslint-enable no-console */\n","/* eslint-disable prefer-destructuring, no-console */\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { showDetail } from '../../actions';\n\nclass Entry extends Component {\n  constructor(props) {\n    super(props);\n    this.divRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { entry } = this.props;\n    // Look at time to create percentage offset\n    // Add 12, not to 12PM\n    const arr = entry.time.split(':');\n    if (entry.time.indexOf('PM') !== -1 && entry.time.indexOf('12:') === -1) {\n      arr[0] = parseInt(arr[0], 10) + 12;\n    }\n    // Set 12AM to 0\n    if (entry.time.indexOf('AM') !== -1 && entry.time.indexOf('12:') !== -1) {\n      arr[0] = parseInt(arr[0], 10) - 12;\n    }\n    const pct = ((arr[0] * 3600 + parseInt(arr[1], 10) * 60) / 864).toFixed(2);\n    this.divRef.current.setAttribute('style', `left:${pct}%;`);\n  }\n\n  render() {\n    const { entry, dispatch } = this.props;\n\n    function onEntryClick() {\n      dispatch(showDetail(entry._id)); /* eslint-disable-line no-underscore-dangle */\n    }\n\n    return (\n      <button className=\"engine-manifest\" ref={this.divRef} type=\"button\" onClick={onEntryClick} onKeyDown={onEntryClick}>\n        {\n          entry.engines.map((engine) => {\n            const bgStyle = {\n              backgroundColor: engine.color,\n            };\n            return (\n              <span className=\"engine-number\" style={bgStyle} key={engine.number}>\n                {engine.number}\n              </span>\n            );\n          })\n        }\n        <span className=\"engine-details-button\">...</span>\n      </button>\n    );\n  }\n}\n\nEntry.propTypes = {\n  entry: PropTypes.shape({\n    time: PropTypes.string.isRequired,\n    engines: PropTypes.arrayOf(PropTypes.object),\n  }),\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => { /* eslint-disable-line arrow-parens, arrow-body-style */\n  return bindActionCreators(\n    {\n      showDetail,\n    },\n    dispatch,\n  );\n};\n\nexport default connect(mapDispatchToProps)(Entry);\n/* eslint-enable prefer-destructuring, no-console */\n","/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Entry from './Entry';\n\nclass EntriesForDate extends Component {\n  constructor(props) {\n    super(props);\n    this.divRef = React.createRef();\n    this.entryHeight = 0;\n  }\n\n  componentDidMount() {\n    this.divRef.current.setAttribute('style', `height:${this.entryHeight}px;`);\n  }\n\n  render() {\n    const { date } = this.props;\n    const { entries } = this.props;\n\n    return (\n      <div className=\"entries-for-date\" ref={this.divRef}>\n        {\n          entries.map((entry) => {\n            if (entry.date === date) {\n              if (this.entryHeight < 20 * entry.engines.length) {\n                this.entryHeight = 20 * (entry.engines.length + 1);\n              }\n              return <Entry key={entry._id} entry={entry} />; /* eslint-disable-line no-underscore-dangle */\n            }\n            return '';\n          })\n        }\n      </div>\n    );\n  }\n}\n\nEntriesForDate.propTypes = {\n  date: PropTypes.string.isRequired,\n  entries: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default EntriesForDate;\n/* eslint-enable no-console */\n","const Months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nexport default Months;\n","/* eslint-disable no-console */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport EntriesForDate from './EntriesForDate';\nimport months from '../../utils/Months';\n\n\nconst Chart = ({ entries }) => {\n  const dates = [...new Set(entries.map(entry => entry.date))];\n\n  return (\n    <div className=\"train-chart\">\n      <div className=\"x-axis-header clearfix\">\n        <ul>\n          <li><span>12 AM</span></li>\n          <li><span>2 AM</span></li>\n          <li><span>4 AM</span></li>\n          <li><span>6 AM</span></li>\n          <li><span>8 AM</span></li>\n          <li><span>10 AM</span></li>\n          <li><span>12 PM</span></li>\n          <li><span>2 PM</span></li>\n          <li><span>4 PM</span></li>\n          <li><span>6 PM</span></li>\n          <li><span>8 PM</span></li>\n          <li><span>10 PM</span></li>\n        </ul>\n      </div>\n      <div className=\"time-table\">\n        <div className=\"month-bar\" />\n        {\n          dates.map(date => (\n            <div className=\"date-line\" key={date}>\n              <div className=\"month-display\">\n                <span>{`${months[date.split('/')[0] - 1]} ${date.split('/')[2]}`}</span>\n              </div>\n              <div className=\"date-display\">\n                <span>{date.split('/')[1]}</span>\n              </div>\n              <EntriesForDate\n                date={date}\n                entries={entries}\n              />\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nChart.propTypes = {\n  entries: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default Chart;\n/* eslint-enable no-console */\n","/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport months from '../../utils/Months';\n\nclass Detail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadedClass: '',\n    };\n  }\n\n  componentDidMount() {\n    const timer = setTimeout(() => {\n      this.setState({ loadedClass: 'detail-loaded' });\n      clearInterval(timer);\n    }, 250);\n  }\n\n  render() {\n    const { onDetailClose, data } = this.props;\n    const { loadedClass } = this.state;\n\n    function formatDate(date) {\n      const arr = date.split('/');\n      return `${months[arr[0] - 1]} ${arr[1]}, ${arr[2]}`;\n    }\n\n    function formatTime(time) {\n      const arr = time.split(':');\n      let ampm = 'a.m.';\n      if (time.indexOf('PM') !== -1) {\n        ampm = 'p.m.';\n      }\n      return `${arr[0]}:${arr[1]} ${ampm}`;\n    }\n\n    return (\n      <div className={`detail-overlay ${loadedClass}`}>\n        <div className=\"detail-bg\" role=\"none\" onClick={onDetailClose} />\n        <div className=\"detail-panel\">\n          <div className=\"detail-header\">\n            <div className=\"detail-header-inner\">\n              <span className=\"entry-number\">\n                Entry No.&nbsp;\n                {data.number}\n              </span>\n              <button className=\"close-button\" type=\"button\" onClick={onDetailClose} />\n            </div>\n          </div>\n          <div className=\"detail-body\">\n            <div className=\"detail-body-inner\">\n              <div className=\"detail-headline\">\n                {`${data.engines.length} engine train observed on ${formatDate(data.date)} at ${formatTime(data.time)} heading ${data.direction}.`}\n              </div>\n              <div className=\"detail-subhead\">Engines</div>\n              <table className=\"detail-table\" cellPadding=\"0\" cellSpacing=\"0\">\n                <thead>\n                  <tr>\n                    <th>Ord.</th>\n                    <th>Line</th>\n                    <th>No.</th>\n                    <th>Pos.</th>\n                    <th>Sightings</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    data.engines.map((engine) => {\n                      const bgStyle = {\n                        backgroundColor: engine.color,\n                      };\n                      return (\n                        <tr key={engine.number}>\n                          <td><span className=\"engine-color-indicator\" style={bgStyle}>{engine.order}</span></td>\n                          <td><span>{engine.line}</span></td>\n                          <td><span>{engine.number}</span></td>\n                          <td><span>{engine.location}</span></td>\n                          <td><span>&nbsp;</span></td>\n                        </tr>\n                      );\n                    })\n                  }\n                </tbody>\n              </table>\n              <div className=\"detail-subhead\">Notes</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDetail.propTypes = {\n  onDetailClose: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    date: PropTypes.string.isRequired,\n    time: PropTypes.string.isRequired,\n    direction: PropTypes.string.isRequired,\n  }),\n};\n\nexport default Detail;\n/* eslint-enable no-console */\n","/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.divRef = React.createRef();\n  }\n\n  componentDidUpdate() {\n    const { menuDisplayClass } = this.props;\n    if (menuDisplayClass === 'closed') {\n      const timer = setTimeout(() => {\n        this.divRef.current.setAttribute('style', 'position:absolute;');\n        clearTimeout(timer);\n      }, 150);\n    } else {\n      this.divRef.current.setAttribute('style', 'position:fixed;');\n    }\n  }\n\n  render() {\n    const { menuDisplayClass, navItems, onMenuClick } = this.props;\n    return (\n      <div className={`menu-container ${menuDisplayClass}`} ref={this.divRef}>\n        <button className=\"menu-button\" onClick={onMenuClick} type=\"button\">\n          <span className=\"menu-icon\">\n            <span className=\"menu-bar\" />\n            <span className=\"menu-bar\" />\n            <span className=\"menu-bar\" />\n          </span>\n        </button>\n        <div className=\"menu-nav\">\n          <div className=\"menu-nav-inner\">\n            {\n              navItems.map(nav => (\n                <button className=\"menu-nav-item\" key={nav} type=\"button\">{nav}</button>\n              ))\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMenu.propTypes = {\n  menuDisplayClass: PropTypes.string.isRequired,\n  onMenuClick: PropTypes.func.isRequired,\n  navItems: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default Menu;\n/* eslint-enable no-console */\n","/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchEntries, hideDetail, hideMenu, showMenu } from '../actions';\nimport Chart from '../components/chart/Chart';\nimport Detail from '../components/detail/Detail';\nimport Menu from '../components/menu/Menu';\nimport logo from '../../img/trainspotted-logo.svg';\nimport '../../scss/App.scss';\n\nclass App extends Component {\n  componentDidMount() {\n    const { dispatch } = this.props;\n    dispatch(fetchEntries());\n  }\n\n  render() {\n    const { detailId, dispatch, entries, isDetailOpen, isMenuOpen, navItems } = this.props;\n\n    function onDetailClose() {\n      dispatch(hideDetail());\n    }\n\n    function onMenuClick() {\n      if (!isMenuOpen) {\n        dispatch(showMenu());\n      } else {\n        dispatch(hideMenu());\n      }\n    }\n\n    function getEntryById(id) {\n      console.log(id);\n      return entries.find(entry => entry._id === id); /* eslint-disable-line no-underscore-dangle */\n    }\n\n    return (\n      <div className=\"App\">\n        <header className=\"app-header\">\n          <div className=\"logo-wrapper\">\n            <img src={logo} className=\"logo-graphic\" alt=\"Trainspotted Logo\" />\n            <div className=\"logo-type\">Trainspotted</div>\n          </div>\n          <Menu\n            menuDisplayClass={isMenuOpen ? 'open' : 'closed'}\n            navItems={navItems}\n            onMenuClick={onMenuClick}\n          />\n        </header>\n        <Chart\n          entries={entries}\n        />\n        {isDetailOpen\n          && (\n            <Detail\n              onDetailClose={onDetailClose}\n              data={getEntryById(detailId)}\n            />\n          )\n        }\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  detailId: PropTypes.string,\n  dispatch: PropTypes.func.isRequired,\n  entries: PropTypes.arrayOf(PropTypes.object),\n  isDetailOpen: PropTypes.bool,\n  isMenuOpen: PropTypes.bool,\n  navItems: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst mapStateToProps = (state) => {\n  const { entryData, entryDetail, menu } = state;\n  const {\n    items: entries,\n  } = entryData;\n  const {\n    id: detailId,\n    isOpen: isDetailOpen,\n  } = entryDetail;\n  const {\n    isOpen: isMenuOpen,\n    items: navItems, /* eslint-disable-line no-unused-vars */\n  } = menu;\n  return {\n    detailId,\n    entries,\n    isDetailOpen,\n    isMenuOpen,\n    navItems,\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n/* eslint-enable no-console */\n","/* eslint-disable no-console */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport reducer from './js/reducers';\nimport App from './js/containers/App';\n\nconst middleware = [thunk];\nif (process.env.NODE_ENV !== 'production') {\n  middleware.push(createLogger());\n}\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(...middleware),\n);\n\nconsole.log(store.getState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'),\n);\n/* eslint-enable no-console */\n"],"sourceRoot":""}