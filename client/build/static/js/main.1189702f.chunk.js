(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/trainspotted-logo.f965f559.svg"},22:function(e,t,n){e.exports=n(33)},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),i=n.n(l),c=n(11),s=n(6),u=n(19),o=(n(31),n(12)),m=function(e){return function(t){return t(function(e){return{type:"REQUEST_ENTRIES",subreddit:e}}(e)),fetch("/getEntries").then(function(e){return e.json()}).then(function(n){return t(function(e,t){return{type:"RECEIVE_ENTRIES",subreddit:e,posts:t,receivedAt:Date.now()}}(e,n))})}},d=Object(s.c)({postsBySubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":case"RECEIVE_ENTRIES":case"REQUEST_ENTRIES":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":return Object(o.a)({},e,{didInvalidate:!0});case"REQUEST_ENTRIES":return Object(o.a)({},e,{isFetching:!0,didInvalidate:!1});case"RECEIVE_ENTRIES":return Object(o.a)({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}(e,t);default:return e}}}),p=n(1),E=n(2),v=n(4),f=n(3),h=n(5),b=n(21),y=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).divRef=r.a.createRef(),n}return Object(h.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.entry,t=e.time.split(":");-1!==e.time.indexOf("PM")&&-1===e.time.indexOf("12:")&&(t[0]=parseInt(t[0],10)+12),-1!==e.time.indexOf("AM")&&-1!==e.time.indexOf("12:")&&(t[0]=parseInt(t[0],10)-12);var n=((3600*t[0]+60*parseInt(t[1],10))/864).toFixed(2);this.divRef.current.setAttribute("style","left:".concat(n,"%;"))}},{key:"render",value:function(){var e=this.props.entry;function t(){console.log("onEntryClick")}return r.a.createElement("button",{className:"engine-manifest",ref:this.divRef,type:"button",onClick:t,onKeyDown:t},e.engines.map(function(e){var t={backgroundColor:e.color};return r.a.createElement("span",{className:"engine-number",style:t,key:e.number},e.number)}))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).divRef=r.a.createRef(),n.entryHeight=0,n}return Object(h.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.divRef.current.setAttribute("style","height:".concat(this.entryHeight,"px;"))}},{key:"render",value:function(){var e=this,t=this.props.date,n=this.props.entries;return r.a.createElement("div",{className:"entries-for-date",ref:this.divRef},n.map(function(n){return n.date===t?(e.entryHeight<20*n.engines.length&&(e.entryHeight=20*(n.engines.length+1)),r.a.createElement(y,{key:n._id,entry:n})):""}))}}]),t}(a.Component),g=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={activeDataSet:{}},n}return Object(h.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.entries,t=this.state.activeDataSet,n=Object(b.a)(new Set(e.map(function(e){return e.date}))),a=["January","February","March","April","May","June","July","August","September","October","November","December"];return r.a.createElement("div",{className:"train-chart"},r.a.createElement("div",{className:"x-axis-header clearfix"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"12 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"2 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"4 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"6 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"8 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"10 AM")),r.a.createElement("li",null,r.a.createElement("span",null,"12 PM")),r.a.createElement("li",null,r.a.createElement("span",null,"2 PM")),r.a.createElement("li",null,r.a.createElement("span",null,"4 PM")),r.a.createElement("li",null,r.a.createElement("span",null,"6 PM")),r.a.createElement("li",null,r.a.createElement("span",null,"8 PM")),r.a.createElement("li",null,r.a.createElement("span",null,"10 PM")))),r.a.createElement("div",{className:"time-table"},r.a.createElement("div",{className:"month-bar"}),n.map(function(n){return r.a.createElement("div",{className:"date-line",key:n},r.a.createElement("div",{className:"month-display"},r.a.createElement("span",null,"".concat(a[n.split("/")[0]-1]," ").concat(n.split("/")[2]))),r.a.createElement("div",{className:"date-display"},r.a.createElement("span",null,n.split("/")[1])),r.a.createElement(O,{date:n,entries:e,onClick:t}))})))}}]),t}(a.Component),j=function(e){var t=e.closeDetailHandler,n=e.detail;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:t},"Close"),r.a.createElement("div",null,"Detail Content..."),r.a.createElement("div",null,n))},I=n(20),N=n.n(I),R=(n(32),function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e;(0,this.props.dispatch)(function(t,n){return function(e,t){var n=e.postsBySubreddit[t];return!n||!n.isFetching&&n.didInvalidate}(n(),e)?t(m(e)):""})}},{key:"render",value:function(){var e=this.props.posts;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"app-header"},r.a.createElement("img",{src:N.a,className:"app-logo",alt:"logo"}),r.a.createElement("div",{className:"app-title"},"Trainspotted")),r.a.createElement(g,{entries:e}),r.a.createElement(j,null))}}]),t}(a.Component)),M=Object(c.b)(function(e){return{posts:(e.postsBySubreddit||{items:[]}).items}})(R),A=[u.a];var S=Object(s.d)(d,s.a.apply(void 0,A));i.a.render(r.a.createElement(c.a,{store:S},r.a.createElement(M,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.1189702f.chunk.js.map